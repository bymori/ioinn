---
title: JavaScript中的30个重难点
date: 2021-10-25 22:20:39
permalink: /pages/8335d0/
categories:
  - 前端
  - JavaScript文章
tags:
  - 数据类型
  - 表达式运算符和分支结构
  - 内置对象
  - JS DOM
  - JS BOM
  - 函数对象★
  - 面向对象★
---

## JS中有哪些数据类型

JavaScript 中的值都具有特定的类型。例如，字符串或数字。

在 JavaScript 中有 8 种基本的数据类型（译注：7 种原始类型和 1 种引用类型）。

- 原始类型(基本类型)
  - Number BigInt String Boolean（逻辑类型） null 值 undefined 值
- 引用类型(复杂类型)
  - object 类型和 symbol 类型

## typeof 和 instanceof 检测数据类型的异同

typeof返回值是一个字符串，该字符串说明运算数的类型,结果为number, boolean,string,function（函数），object(NULL,数组，对象），undefined

instanceof 是用来判断 A 是否为 B 的实例对象，检测的是原型

<code-group>
  <code-block title="typeof" active>
  ```js
  console.log(typeof 123); // number
  console.log(typeof true); // boolean
  console.log(typeof 'ioinn'); // string
  console.log(typeof undefined); // undefined

  console.log(typeof null); // object
    // 计算机typeof 返回的数据类型 机器码 01011:000 => object
    // null 0000000...000 => object
    // js bug

  console.log(typeof []); // object // 引用类型
  console.log(typeof new Date()); // object

  console.log(typeof {}); // object
  console.log(typeof function () {}); // function
  console.log(typeof Array); // function  // 为什么不是object类型
    // typeof 引用类型 object: object function
    // object 定义一个[[call]]: function object

  var str = 'ioinn';
  console.log('--------');
  console.log(str); // ioinn
  console.log(typeof str); // string
  console.log('--------');
  var str1 = new String('ioinn'); // 实例化后的对象
  console.log(str1); // {}
    // key : value
    // 0: "i"
    // 1: "o"
    // 2: "i"
    // 3: "n"
    // 4: "n"
  console.log(typeof str1); // object

    // typeof 少null 多function

  ```
  </code-block>

  <code-block title="instanceof">
  ```js
  // instanceof检测 boolean: true false
      // A instanceof B  A 是否是由 B 实例化出来的
    console.log([] instanceof Array); // true
    console.log({} instanceof Object); // true
    console.log(new Date() instanceof Date); // true
    function Person() {}
    console.log(new Person() instanceof Person); // true

    console.log([] instanceof Object); // true
    console.log(new Date() instanceof Object); // true
    console.log(new Person() instanceof Object); // true
      //instanceof 原型链 A instanceof B true,B instanceof c true

    if (typeof val !== undefined) {}
    console.log(Object.prototype.toString.call('1')); // [object String]
    console.log(Object.prototype.toString.call([])); // [object Array]
  ```

  </code-block>
</code-group>

## 深入理解数据的存储形式-堆栈

什么是栈:计算机为原始类型开辟的一 块内存空间 string number ...

什么是堆：计算机为引用类型开辟的一块内存空间 object

```js
var a = 'ioinn';
var b = a;
b = 'momo';
console.log(a, b); // ioinn momo

var c = { key: 1 };
var d = c;
d.key = 2;
console.log(c, d); // {key: 2} {key: 2}

// c d ['x00123','x00123'] -> {key: 2 }
// c d 'x00123' -> {key: 2 }  {key: 2 }
```

## 深浅拷贝有哪些方式

深拷贝与浅拷贝，简单来说

就是假如 B 复制了 A, 当修改 A 时, 看 B 是否会发生变化, 如果 B 也跟着变了, 说明这是 浅拷贝

如果 B 没变, 就是 深拷贝

```js
// 遍历
var obj = {
  a: 'hello',
  b: {
    a: 'world',
    b: 111,
  },
  c: [11, 'ioinn', 'momo'],
};
```

<code-group>
  <code-block title="浅拷贝" active>
  ```js
  // 浅拷贝
      objCopy;
      function simpleClone(objNew) {
        var obj = {};
        for (var i in objNew) {
          obj[i] = objNew[i];
        }
        return obj;
      }
      var objCopy = simpleClone(obj);
      //   objCopy.b.a = 'world111';
      console.log(obj);
      console.log(objCopy);

      //   Object.create() 复制到原型上
      var objCopyCreate = Object.create(obj);
      objCopy.b.a = 'world111';
      console.log(obj);
      console.log(objCopyCreate);
  ```
  </code-block>

  <code-block title="深拷贝">
  ```js
  // 深拷贝
      function deepClone(startObj, endObj) {
        var obj = endObj || {};
        for (var i in startObj) {
          if (typeof startObj[i] === 'object') {
            obj[i] = startObj[i].constructor === Array ? [] : {};
            deepClone(startObj[i], obj[i]);
          } else {
            obj[i] = startObj[i];
          }
        }
        return obj;
      }
      var objCopy = deepClone(obj);
      objCopy.b.a = 'world111';
      objCopy.c[0] = '22';
      console.log(obj); // "world" 11
      console.log(objCopy); // "world111" "22"

      // JSON.parse JSON.stringify
      var objCopy = JSON.parse(JSON.stringify(obj)); // object -> string -> object
      objCopy.b.a = 'world111';
      objCopy.c[0] = '22';
      console.log(obj); // "world" 11
      console.log(objCopy); // "world111" "22"
  ```
  </code-block>
</code-group>

## 开发中常见数据类型转换有哪些坑

## 运算符多的情况下需要注意哪些

## 开发中如何优化for循环

## js中常见的内置对象有哪些

## 面试常见装箱和拆箱的理解

## 带你深入理解栈和队列

## 你不知道的sort排序

## Date对象中getMonth()需要注意哪些点

## 开发中编码和解码使用场景有哪些

## 带你深入理解DOM树加载过程

## 三种事件绑定的异同

## 带你深入理解事件触发，事件捕获与事件冒泡

## 常用阻止默认行为的两种方式

## 开发中使用history和location需要注意哪些

## 常见函数的四种类型有哪些

## 一定要知道的变量和函数提升

## 带你深入理解作用域和作用域链

## 带你图解执行环境

## 开发中重载和多态的使用场景有哪些

## 高频面试题闭包理解

## 开发中call、apply、bind的使用场景区分

## new的执行过程有哪几步

## 开发中使用this的坑有哪些

## 面试高频如何理解面向对象

## 图解原型和原型链

## 开发中如何使用继承

## 开发中如何运用 Object.defineProperty() 方法
