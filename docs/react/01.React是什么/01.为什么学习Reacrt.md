---
title: 为什么学习Reacrt
date: 2021-12-13 09:28:54
permalink: /pages/a41858/
categories:
  - react
  - React是什么
tags:
  - 
---

## React是什么?

![React](https://cdn.jsdelivr.net/gh/bymori/image-PicX@main/img/tmw4jrk4bz-1639359834510.png)

主要的任务就是构建用于界面，而构建用于界面离不开三个技术:

- **HTML**：构建页面的结构
- **CSS**：构建页面的样式
- **JavaScript**：页面动态内容和交互

使用最原生的HTML、CSS、JavaScript可以构建完整的用户界面，**但是**会存在很多问题

<!-- more -->
- 比如操作DOM兼容性的问题
- 比如过多兼容性代码的冗余问题
- 比如代码组织和规范的问题

### 常见的JavaScript库

现在前端领域最为流行的几大框架：

- [Vue](https://github.com/vuejs/vue)
- [React](https://github.com/facebook/react)
- [Angula](https://github.com/angular/angular)
- [solid](https://github.com/solidjs/solid)
- [Svelte](https://github.com/sveltejs/svelte)

### React的特点

1. 声明式设计 −React采用声明范式，可以轻松描述应用
2. 高效 −React通过对DOM的模拟，最大限度地减少与DOM的交互
3. 灵活 −React可以与已知的库或框架很好地配合
4. JSX − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它
5. 组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中
6. 单向响应的数据流 − React 实现了单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单

#### 声明式编程

- 声明式编程是目前整个大前端开发的模式：Vue、React、Flutter、SwiftUI；
- 它允许我们只需要维护自己的状态，当状态改变时，React可以根据最新的状态去渲染我们的UI界面

- 命令式编程: 每做一个操作,都是给计算机(浏览器)一步步命令
- 声明式编程: 虚拟DOM帮助我们从命令式编程转到了声明式编程的模式

![声明式编程](https://cdn.jsdelivr.net/gh/bymori/image-PicX@main/img/em9g7nn0e2-1639360915952.png)

#### 组件化开发

构建管理自身状态的封装组件，然后对其组合以构成复杂的 UI。

![组件化开发](https://cdn.jsdelivr.net/gh/bymori/image-PicX@main/img/0jv461ks9i-1639360989464.png)

### Hello React – 组件化开发

- 整个逻辑其实可以看做一个整体，那么就可以将其封装成一个组件
  - 我们说过 ReactDOM.render 第一参数是一个HTML原生或者一个组件；
  - 所以我们可以先将之前的业务逻辑封装到一个组件中，然后传入到 `ReactDOM.render` 函数中的第一个参数

- 在React中，如何封装一个组件呢？
  - 这里使用类的方式封装组件：
  - 1.定义一个类（`类名大写`，组件的名称是必须大写的，小写会被认为是HTML元素），继承自`React.Component`
  - 2.实现当前组件的render函数
  - `render`当中返回的jsx内容，就是之后React会帮助我们渲染的内容

```js
class App extends React.Component {
  render() {
    return (<h2>Hello World</h2>);
  }
}
ReactDOM.render(<App />, document.getElementById('app'));
```

### 组件化 - 数据依赖

组件化问题一：**数据在哪里定义**

- 在组件中的数据，我们可以分成两类：
  - 参与界面更新的数据：当数据变量时，需要更新组件渲染的内容
  - 不参与界面更新的数据：当数据变量时，不需要更新将组建渲染的内容
- 参与界面更新的数据我们也可以称之为是参与数据流，这个数据是定义在当前对象的state中
  - 我们可以通过在构造函数中 this.state = {定义的数据}
  - 当我们的数据发生变化时，我们可以调用 this.setState 来更新数据，并且通知React进行update操作
    - 在进行update操作时，就会重新调用render函数，并且使用最新的数据，来渲染界面

```js
class App extends React.Component {
  constructor() {
    super();
    this.state = {
      message: 'Hello World',
    };
  }
}
```

### 组件化 – 事件绑定

组件化问题二：**事件绑定中的this**

- 在类中直接定义一个函数，并且将这个函数绑定到html原生的onClick事件上，当前这个函数的this指向的是谁呢？
- 默认情况下是undefined
  - 很奇怪，居然是undefined；
  - 因为在正常的DOM操作中，监听点击，监听函数中的this其实是节点对象（比如说是button对象）；
  - 这次因为React并不是直接渲染成真实的DOM，我们所编写的button只是一个语法糖，它的本质React的Element对象；
  - 那么在这里发生监听的时候，react给我们的函数绑定的this，默认情况下就是一个undefined；
- 我们在绑定的函数中，可能想要使用当前对象，比如执行 this.setState 函数，就必须拿到当前对象的this
- 我们就需要在传入函数时，给这个函数直接绑定this
- 类似于下面的写法：

```js
<div>
  <h2>{this.state.message}</h2>
  <button onClick={this.btnClick.bind(this)}>改变文本</button>
</div>

btnClick() {
  console.log(this);
}
```
